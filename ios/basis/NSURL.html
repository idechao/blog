<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NSURL / NSURLComponents | 小博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/img/icon.jpg">
    <meta name="description" content="维基百科">
    
    <link rel="preload" href="/blog/assets/css/0.styles.dab10465.css" as="style"><link rel="preload" href="/blog/assets/js/app.99145626.js" as="script"><link rel="preload" href="/blog/assets/js/2.3647e705.js" as="script"><link rel="preload" href="/blog/assets/js/12.05cd034b.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.939cb7d1.js"><link rel="prefetch" href="/blog/assets/js/11.7c4062c6.js"><link rel="prefetch" href="/blog/assets/js/13.7d1dd305.js"><link rel="prefetch" href="/blog/assets/js/14.e2dc7bb1.js"><link rel="prefetch" href="/blog/assets/js/15.d2398954.js"><link rel="prefetch" href="/blog/assets/js/16.43eaa64b.js"><link rel="prefetch" href="/blog/assets/js/17.38855a8c.js"><link rel="prefetch" href="/blog/assets/js/18.bedd26ca.js"><link rel="prefetch" href="/blog/assets/js/19.ffbd0bfd.js"><link rel="prefetch" href="/blog/assets/js/20.fca3f626.js"><link rel="prefetch" href="/blog/assets/js/21.662a341c.js"><link rel="prefetch" href="/blog/assets/js/22.69dd38d3.js"><link rel="prefetch" href="/blog/assets/js/23.07dece60.js"><link rel="prefetch" href="/blog/assets/js/24.2aefe9f9.js"><link rel="prefetch" href="/blog/assets/js/25.3409aed4.js"><link rel="prefetch" href="/blog/assets/js/26.2abc3556.js"><link rel="prefetch" href="/blog/assets/js/27.5b46a6fd.js"><link rel="prefetch" href="/blog/assets/js/28.bc586559.js"><link rel="prefetch" href="/blog/assets/js/29.e6c078fb.js"><link rel="prefetch" href="/blog/assets/js/3.0906cba9.js"><link rel="prefetch" href="/blog/assets/js/30.268d0143.js"><link rel="prefetch" href="/blog/assets/js/31.eb7f4c50.js"><link rel="prefetch" href="/blog/assets/js/32.86f4efc3.js"><link rel="prefetch" href="/blog/assets/js/33.f9d84206.js"><link rel="prefetch" href="/blog/assets/js/34.c8794745.js"><link rel="prefetch" href="/blog/assets/js/35.65c057c4.js"><link rel="prefetch" href="/blog/assets/js/36.3f6ea2d3.js"><link rel="prefetch" href="/blog/assets/js/37.df99b612.js"><link rel="prefetch" href="/blog/assets/js/38.0030c14c.js"><link rel="prefetch" href="/blog/assets/js/39.efd2cf24.js"><link rel="prefetch" href="/blog/assets/js/4.18e80459.js"><link rel="prefetch" href="/blog/assets/js/40.ab2f1aaf.js"><link rel="prefetch" href="/blog/assets/js/41.d7d13d0d.js"><link rel="prefetch" href="/blog/assets/js/42.8a5fbdde.js"><link rel="prefetch" href="/blog/assets/js/43.f35b62f9.js"><link rel="prefetch" href="/blog/assets/js/44.1151ccfe.js"><link rel="prefetch" href="/blog/assets/js/45.d8e22298.js"><link rel="prefetch" href="/blog/assets/js/46.6d56bf06.js"><link rel="prefetch" href="/blog/assets/js/5.736d56bf.js"><link rel="prefetch" href="/blog/assets/js/6.a1fa0cc8.js"><link rel="prefetch" href="/blog/assets/js/7.4846b23a.js"><link rel="prefetch" href="/blog/assets/js/8.2b43ccf2.js"><link rel="prefetch" href="/blog/assets/js/9.e2fff979.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.dab10465.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">小博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/ios/" class="nav-link router-link-active">
  iOS
</a></div><div class="nav-item"><a href="/blog/flutter/" class="nav-link">
  flutter
</a></div><div class="nav-item"><a href="/blog/books/" class="nav-link">
  读书
</a></div><div class="nav-item"><a href="/blog/thought/" class="nav-link">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术点" class="dropdown-title"><span class="title">技术点</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术点" class="mobile-dropdown-title"><span class="title">技术点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/blog/" class="nav-link">
  博客发布
</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">
  electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.idechao.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  idechao
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/idechao/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/ios/" class="nav-link router-link-active">
  iOS
</a></div><div class="nav-item"><a href="/blog/flutter/" class="nav-link">
  flutter
</a></div><div class="nav-item"><a href="/blog/books/" class="nav-link">
  读书
</a></div><div class="nav-item"><a href="/blog/thought/" class="nav-link">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术点" class="dropdown-title"><span class="title">技术点</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术点" class="mobile-dropdown-title"><span class="title">技术点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/blog/" class="nav-link">
  博客发布
</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">
  electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.idechao.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  idechao
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/idechao/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS小工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/ios/basis/NSURL.html" aria-current="page" class="active sidebar-link">NSURL/NSURLComponents</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/ios/basis/NSURL.html#nsurl" class="sidebar-link">NSURL</a></li><li class="sidebar-sub-header"><a href="/blog/ios/basis/NSURL.html#nsurlcomponents" class="sidebar-link">NSURLComponents</a></li></ul></li><li><a href="/blog/ios/basis/iphone-debug.html" class="sidebar-link">iphone无证书真机调试</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS日常</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nsurl-nsurlcomponents"><a href="#nsurl-nsurlcomponents" class="header-anchor">#</a> NSURL / NSURLComponents</h1> <p>一个完整<code>URL</code>如下：</p> <img src="data:image/png;base64,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"> <p>当然，大部分的情况下，可能使用简单的结构：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 地址 
https://www.baidu.com/api?page=1
// 结构
scheme://host/path?query
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="nsurl"><a href="#nsurl" class="header-anchor">#</a> NSURL</h2> <p>方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span> <span class="token punctuation">(</span>nullable instancetype<span class="token punctuation">)</span>URLWithString<span class="token operator">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>URLString relativeToURL<span class="token operator">:</span><span class="token punctuation">(</span>nullable <span class="token constant">NSURL</span> <span class="token operator">*</span><span class="token punctuation">)</span>baseURL<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>先说结论：</p> <ol><li>baseurl要以&quot;/&quot;结尾，如<code>https://www.baidu.com/api/</code></li> <li>relativeUrl不能以&quot;/&quot;开始, 如<code>api/teset</code></li> <li>relativeUrl是个完整url的情况下，baseurl无效</li></ol> <p>测试代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">NSURL</span> <span class="token operator">*</span>baseURL1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;http://example.com/v1/v2/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>baseURL2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;http://example.com/v1/v2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url12 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// http://example.com/v1/v2/foo</span>
<span class="token comment">// http://example.com/v1/foo</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url21 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo?bar=baz&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url22 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo?bar=baz&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// http://example.com/v1/v2/foo?bar=baz</span>
<span class="token comment">// http://example.com/v1/foo?bar=baz</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url31 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;/foo&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url32 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;/foo&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//  http://example.com/foo</span>
<span class="token comment">// http://example.com/foo</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url41 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url42 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;foo/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// http://example.com/v1/v2/foo/</span>
<span class="token comment">// http://example.com/v1/foo/</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url51 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;/foo/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url52 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;/foo/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// http://example.com/foo/</span>
<span class="token comment">// http://example.com/foo/</span>

<span class="token constant">NSURL</span> <span class="token operator">*</span>url61 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;http://example2.com/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL1<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token constant">NSURL</span> <span class="token operator">*</span>url62 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">NSURL</span> URLWithString<span class="token operator">:</span>@<span class="token string">&quot;http://example2.com/&quot;</span> relativeToURL<span class="token operator">:</span>baseURL2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// http://example2.com/</span>
<span class="token comment">// http://example2.com/</span>

<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url11<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url12<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url21<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url22<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url31<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url32<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url41<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url42<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url51<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url52<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%@||||||%@&quot;</span><span class="token punctuation">,</span> url61<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">,</span> url62<span class="token punctuation">.</span>absoluteURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="nsurlcomponents"><a href="#nsurlcomponents" class="header-anchor">#</a> NSURLComponents</h2> <p>可以通过url或者string的方式，来生成urlComponents.</p> <p>方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span> <span class="token punctuation">(</span>nullable instancetype<span class="token punctuation">)</span>componentsWithURL<span class="token operator">:</span><span class="token punctuation">(</span><span class="token constant">NSURL</span> <span class="token operator">*</span><span class="token punctuation">)</span>url resolvingAgainstBaseURL<span class="token operator">:</span><span class="token punctuation">(</span><span class="token constant">BOOL</span><span class="token punctuation">)</span>resolve<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>resolvingAgainstBaseURL参数是说通过url的方式来生成urlComponents的时候，如果
resolvingAgainstBaseURL参数，是说如果一个url，是通过relative 另一个 NSURL来创建的，会有所区别，会缺少baseUrl的部分。</p> <p>如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>NSString *urlStr = @&quot;https://www.baidu.com/api/&quot;;
NSURL *base = [NSURL URLWithString:urlStr];
NSURL *url = [NSURL URLWithString:@&quot;test?search=image&quot; relativeToURL:base];

NSURLComponents *components = [NSURLComponents componentsWithURL:url resolvingAgainstBaseURL:YES];
NSURLComponents *components2 = [NSURLComponents componentsWithURL:url resolvingAgainstBaseURL:NO];

NSLog(@&quot;%@&quot;, components.string);
NSLog(@&quot;%@&quot;, components2.string);

// 输出
https://www.baidu.com/api/test?search=image
test?search=image
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/21/2021, 7:45:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/ios/tools/chisel.html" class="prev">
        facebook的LLDB
      </a></span> <span class="next"><a href="/blog/ios/basis/iphone-debug.html">
        iphone无证书真机调试
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.99145626.js" defer></script><script src="/blog/assets/js/2.3647e705.js" defer></script><script src="/blog/assets/js/12.05cd034b.js" defer></script>
  </body>
</html>
