(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{417:function(e,r,a){"use strict";a.r(r);var s=a(45),t=Object(s.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"m1芯片mac上homebrew安装教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m1芯片mac上homebrew安装教程"}},[e._v("#")]),e._v(" M1芯片Mac上Homebrew安装教程")]),e._v(" "),a("h2",{attrs:{id:"_1-安装-arm-版-homebrew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-arm-版-homebrew"}},[e._v("#")]),e._v(" 1.安装 ARM 版 Homebrew")]),e._v(" "),a("p",[e._v("根据官方规划，ARM 版 "),a("code",[e._v("Homebrew")]),e._v(" 必须安装在 "),a("code",[e._v("/opt/homebrew")]),e._v(" 路径下，而非此前的 "),a("code",[e._v("/usr/local/Homebrew")]),e._v("。")]),e._v(" "),a("p",[e._v("官方脚本应该更新了，先试下下面这个命令：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('/bin/bash -c "$(curl -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install.sh)"\n\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("如果上面那个命令不行的话，说明官方的安装脚本还未更新，可以通过如下命令手动安装：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd /opt # 切换到 /opt 目录\nmkdir homebrew # 创建 homebrew 目录\ncurl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("blockquote",[a("p",[e._v("注： 如果安装和使用过程中报错，可能是因为当前用户对于 "),a("code",[e._v("/opt/homebrew")]),e._v(" 路径没有权限。对此，可以通过 "),a("code",[e._v("sudo chown -R $(whoami) /opt/homebrew")]),e._v(" 接管该目录。")])]),e._v(" "),a("p",[e._v("虽然上面的步骤已经安装了 ARM 版 Homebrew，但此时在终端中运行 brew 命令并不能直接启动该版本。这是因为默认情况下，ARM 版 Homebrew 用来安装程序的路径 "),a("code",[e._v("/opt/homebrew/bin")]),e._v(" 并不在环境变量 PATH 中，因此终端无法检索到该路径下的 brew 程序。")]),e._v(" "),a("p",[e._v("为此，编辑配置文件 ~/.zshrc，加入如下内容：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("path=('/opt/homebrew/bin' $path)\nexport PATH\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("blockquote",[a("p",[e._v("注:建议用户使用 macOS Big Sur 的默认终端 zsh，如使用 bash 或 fish，则修改 ~/.bashrc 或 ~/.config/fish/config.fish，后同")])]),e._v(" "),a("p",[e._v("然后重新启动终端。这样，直接执行 brew 就可以启动 ARM 版的 Homebrew 了。")]),e._v(" "),a("h2",{attrs:{id:"_2-安装-x86-版-homebrew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-x86-版-homebrew"}},[e._v("#")]),e._v(" 2.安装 X86 版 Homebrew")]),e._v(" "),a("p",[e._v("因为目前很多软件包没有支持ARM架构，我们也可以考虑使用x86版的Homebrew。")]),e._v(" "),a("p",[e._v("在命令前面添加arch -x86_64，就可以按X86模式执行该命令，比如：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('arch -x86_64 /bin/bash -c "$(curl -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install.sh)"\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"多版本共存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多版本共存"}},[e._v("#")]),e._v(" 多版本共存")]),e._v(" "),a("p",[e._v("如果你同时安装了ARM和X86两个版本，那你需要设置别名，把命令区分开。")]),e._v(" "),a("p",[e._v("同样是.zshrc面添加：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("alias brew='arch -arm64 /opt/homebrew/bin/brew'\nalias ibrew='arch -x86_64 /usr/local/bin/brew'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("brew、ibrew可以根据你的喜好自定义。我这里默认用ARM的设置成brew，也有的用abrew，默认就好了。")]),e._v(" "),a("p",[e._v("然后再执行"),a("code",[e._v("source ~/.zprofile")]),e._v("或"),a("code",[e._v("source ~/.bash_profile")]),e._v("命令更新文件。")]),e._v(" "),a("p",[e._v("参考链接：")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/a055350/article/details/111040458",target:"_blank",rel:"noopener noreferrer"}},[e._v("苹果M1 Mac上怎样使用Homebrew"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/341831809",target:"_blank",rel:"noopener noreferrer"}},[e._v("M1芯片Mac上Homebrew安装教程"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=t.exports}}]);